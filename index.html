<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>LES PRIVATE ZAHRO</title>

<style>
body{font-family:Arial;margin:0;background:#f4f6f8}
header{background:#2c7be5;color:white;padding:20px;text-align:center}
nav{background:#1f5fbf;display:flex;justify-content:center;gap:10px;flex-wrap:wrap}
nav button{background:none;border:none;color:white;padding:14px 18px;font-weight:bold;cursor:pointer}
nav button:hover{background:#174ea6}
section{display:none;padding:30px;min-height:100vh}
section.active{display:block}
table{width:100%;border-collapse:collapse;background:white}
th,td{border:1px solid #ddd;padding:10px;text-align:center}
th{background:#2c7be5;color:white}
.admin{background:white;padding:15px;margin-top:15px;border-radius:10px}
.hidden{display:none}
footer{text-align:center;background:#2c7be5;color:white;padding:12px}
</style>
</head>

<body>

<header>
<h1>LES PRIVATE ZAHRO</h1>
<p>Bimbingan Belajar Privat SD ‚Äì SMP</p>
</header>

<nav>
<button onclick="show('home')">Beranda</button>
<button onclick="show('mapel')">Mata Pelajaran</button>
<button onclick="show('jadwal')">Jadwal</button>
<button onclick="show('siswa')">Siswa</button>
<button onclick="show('login')">Admin</button>
</nav>

<section id="home" class="active">
<h2>Selamat Datang di LES PRIVATE ZAHRO</h2>
<p>Website manajemen data siswa & jadwal.</p>
</section>

<section id="login">
<h2>Login Admin</h2>
<input id="user" placeholder="Username"><br><br>
<input id="pass" type="password" placeholder="Password"><br><br>
<button onclick="login()">Login</button>
<p id="loginMsg"></p>
</section>

<section id="mapel">
<h2>Mata Pelajaran</h2>
<ul id="mapelList"></ul>
<div class="admin hidden">
<input id="newMapel" placeholder="Nama Mapel">
<input id="mapelLink" placeholder="Link Materi">
<button onclick="addMapel()">Simpan</button>
</div>
</section>

<section id="jadwal">
<h2>Jadwal Les</h2>
<table>
<tr><th>Hari</th><th>Jam</th><th>Mapel</th><th>Siswa</th><th>Aksi</th></tr>
<tbody id="jadwalList"></tbody>
</table>
<div class="admin hidden">
<input id="hari" placeholder="Hari">
<input id="jam" placeholder="Jam">
<input id="mapelJadwal" placeholder="Mapel">
<input id="namaSiswaJadwal" placeholder="Nama Siswa">
<button onclick="addJadwal()">Simpan</button>
</div>
</section>

<section id="siswa">
<h2>Data Siswa</h2>
<table>
<tr><th>Nama</th><th>Kelas</th><th>Aksi</th></tr>
<tbody id="siswaList"></tbody>
</table>
<div class="admin hidden">
<input id="namaSiswa" placeholder="Nama">
<input id="kelasSiswa" placeholder="Kelas">
<button onclick="addSiswa()">Simpan</button>
</div>
</section>

<footer>¬© 2025 LES PRIVATE ZAHRO</footer>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
/* üî¥ GANTI DENGAN DATA FIREBASE KAK */
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyDpbztaOesOsI1t2URnicZ4IbzXSWe4rvk",
  authDomain: "les-private-zahro.firebaseapp.com",
  projectId: "les-private-zahro",
  storageBucket: "les-private-zahro.firebasestorage.app",
  messagingSenderId: "41777740392",
  appId: "1:41777740392:web:92bb4a8a52becb2b97d9dd",
  measurementId: "G-QH54RS825W"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

let isAdmin=false;

function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

function login(){
if(user.value==="yayanpusfito" && pass.value==="123456"){
isAdmin=true;
loginMsg.innerHTML="‚úÖ Login berhasil";
document.querySelectorAll(".admin").forEach(a=>a.classList.remove("hidden"));
}else{
loginMsg.innerHTML="‚ùå Login gagal";
}
}

/* ===== SISWA ===== */
function addSiswa(){
db.ref("siswa").push({
nama:namaSiswa.value,
kelas:kelasSiswa.value
});
namaSiswa.value="";
kelasSiswa.value="";
}

db.ref("siswa").on("value",snap=>{
siswaList.innerHTML="";
snap.forEach(d=>{
siswaList.innerHTML+=`
<tr>
<td>${d.val().nama}</td>
<td>${d.val().kelas}</td>
<td>${isAdmin?`<button onclick="del('siswa','${d.key}')">‚ùå</button>`:""}</td>
</tr>`;
});
});

/* ===== MAPEL ===== */
function addMapel(){
db.ref("mapel").push({
nama:newMapel.value,
link:mapelLink.value
});
newMapel.value="";
mapelLink.value="";
}

db.ref("mapel").on("value",snap=>{
mapelList.innerHTML="";
snap.forEach(d=>{
mapelList.innerHTML+=`
<li>
<a href="${d.val().link}" target="_blank">${d.val().nama}</a>
${isAdmin?`<button onclick="del('mapel','${d.key}')">‚ùå</button>`:""}
</li>`;
});
});

/* ===== JADWAL ===== */
function addJadwal(){
db.ref("jadwal").push({
hari:hari.value,
jam:jam.value,
mapel:mapelJadwal.value,
siswa:namaSiswaJadwal.value
});
hari.value=jam.value=mapelJadwal.value=namaSiswaJadwal.value="";
}

db.ref("jadwal").on("value",snap=>{
jadwalList.innerHTML="";
snap.forEach(d=>{
let j=d.val();
jadwalList.innerHTML+=`
<tr>
<td>${j.hari}</td>
<td>${j.jam}</td>
<td>${j.mapel}</td>
<td>${j.siswa}</td>
<td>${isAdmin?`<button onclick="del('jadwal','${d.key}')">‚ùå</button>`:""}</td>
</tr>`;
});
});

/* HAPUS */
function del(path,id){
db.ref(path+"/"+id).remove();
}
</script>

</body>
</html>
